"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[963],{3576:(P,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0});var p=o(5730),t=o(7104),_=o(6232),v=o(3915),y=o(8273),g=function(){function u(c){this._isScalar=!1,c&&(this._subscribe=c)}return u.prototype.lift=function(c){var l=new u;return l.source=this,l.operator=c,l},u.prototype.subscribe=function(c,l,h){var s=this.operator,a=t.toSubscriber(c,l,h);if(a.add(s?s.call(a,this.source):this.source||y.config.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),y.config.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a},u.prototype._trySubscribe=function(c){try{return this._subscribe(c)}catch(l){y.config.useDeprecatedSynchronousErrorHandling&&(c.syncErrorThrown=!0,c.syncErrorValue=l),p.canReportError(c)?c.error(l):console.warn(l)}},u.prototype.forEach=function(c,l){var h=this;return new(l=d(l))(function(s,a){var f;f=h.subscribe(function(b){try{c(b)}catch(T){a(T),f&&f.unsubscribe()}},a,s)})},u.prototype._subscribe=function(c){var l=this.source;return l&&l.subscribe(c)},u.prototype[_.observable]=function(){return this},u.prototype.pipe=function(){for(var c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];return 0===c.length?this:v.pipeFromArray(c)(this)},u.prototype.toPromise=function(c){var l=this;return new(c=d(c))(function(h,s){var a;l.subscribe(function(f){return a=f},function(f){return s(f)},function(){return h(a)})})},u.create=function(c){return new u(c)},u}();function d(u){if(u||(u=y.config.Promise||Promise),!u)throw new Error("no Promise impl found");return u}i.Observable=g},6011:(P,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0});var p=o(8273),t=o(2434);i.empty={closed:!0,next:function(_){},error:function(_){if(p.config.useDeprecatedSynchronousErrorHandling)throw _;t.hostReportError(_)},complete:function(){}}},7241:function(P,i,o){var l,p=this&&this.__extends||(l=function(h,s){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,f){a.__proto__=f}||function(a,f){for(var b in f)f.hasOwnProperty(b)&&(a[b]=f[b])})(h,s)},function(h,s){function a(){this.constructor=h}l(h,s),h.prototype=null===s?Object.create(s):(a.prototype=s.prototype,new a)});Object.defineProperty(i,"__esModule",{value:!0});var t=o(7382),_=o(6011),v=o(3984),y=o(1476),g=o(8273),d=o(2434),u=function(l){function h(s,a,f){var b=l.call(this)||this;switch(b.syncErrorValue=null,b.syncErrorThrown=!1,b.syncErrorThrowable=!1,b.isStopped=!1,arguments.length){case 0:b.destination=_.empty;break;case 1:if(!s){b.destination=_.empty;break}if("object"==typeof s){s instanceof h?(b.syncErrorThrowable=s.syncErrorThrowable,b.destination=s,s.add(b)):(b.syncErrorThrowable=!0,b.destination=new c(b,s));break}default:b.syncErrorThrowable=!0,b.destination=new c(b,s,a,f)}return b}return p(h,l),h.prototype[y.rxSubscriber]=function(){return this},h.create=function(s,a,f){var b=new h(s,a,f);return b.syncErrorThrowable=!1,b},h.prototype.next=function(s){this.isStopped||this._next(s)},h.prototype.error=function(s){this.isStopped||(this.isStopped=!0,this._error(s))},h.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},h.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,l.prototype.unsubscribe.call(this))},h.prototype._next=function(s){this.destination.next(s)},h.prototype._error=function(s){this.destination.error(s),this.unsubscribe()},h.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},h.prototype._unsubscribeAndRecycle=function(){var s=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=s,this},h}(v.Subscription);i.Subscriber=u;var c=function(l){function h(s,a,f,b){var T=l.call(this)||this;T._parentSubscriber=s;var w,C=T;return t.isFunction(a)?w=a:a&&(w=a.next,f=a.error,b=a.complete,a!==_.empty&&(C=Object.create(a),t.isFunction(C.unsubscribe)&&T.add(C.unsubscribe.bind(C)),C.unsubscribe=T.unsubscribe.bind(T))),T._context=C,T._next=w,T._error=f,T._complete=b,T}return p(h,l),h.prototype.next=function(s){if(!this.isStopped&&this._next){var a=this._parentSubscriber;g.config.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable?this.__tryOrSetError(a,this._next,s)&&this.unsubscribe():this.__tryOrUnsub(this._next,s)}},h.prototype.error=function(s){if(!this.isStopped){var a=this._parentSubscriber,f=g.config.useDeprecatedSynchronousErrorHandling;if(this._error)f&&a.syncErrorThrowable?(this.__tryOrSetError(a,this._error,s),this.unsubscribe()):(this.__tryOrUnsub(this._error,s),this.unsubscribe());else if(a.syncErrorThrowable)f?(a.syncErrorValue=s,a.syncErrorThrown=!0):d.hostReportError(s),this.unsubscribe();else{if(this.unsubscribe(),f)throw s;d.hostReportError(s)}}},h.prototype.complete=function(){var s=this;if(!this.isStopped){var a=this._parentSubscriber;if(this._complete){var f=function(){return s._complete.call(s._context)};g.config.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable?(this.__tryOrSetError(a,f),this.unsubscribe()):(this.__tryOrUnsub(f),this.unsubscribe())}else this.unsubscribe()}},h.prototype.__tryOrUnsub=function(s,a){try{s.call(this._context,a)}catch(f){if(this.unsubscribe(),g.config.useDeprecatedSynchronousErrorHandling)throw f;d.hostReportError(f)}},h.prototype.__tryOrSetError=function(s,a,f){if(!g.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{a.call(this._context,f)}catch(b){return g.config.useDeprecatedSynchronousErrorHandling?(s.syncErrorValue=b,s.syncErrorThrown=!0,!0):(d.hostReportError(b),!0)}return!1},h.prototype._unsubscribe=function(){var s=this._parentSubscriber;this._context=null,this._parentSubscriber=null,s.unsubscribe()},h}(u);i.SafeSubscriber=c},3984:(P,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0});var p=o(993),t=o(4720),_=o(7382),v=o(8574),y=function(){function d(u){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,u&&(this._ctorUnsubscribe=!0,this._unsubscribe=u)}return d.prototype.unsubscribe=function(){var u;if(!this.closed){var c=this,l=c._parentOrParents,h=c._ctorUnsubscribe,s=c._unsubscribe,a=c._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,l instanceof d)l.remove(this);else if(null!==l)for(var f=0;f<l.length;++f)l[f].remove(this);if(_.isFunction(s)){h&&(this._unsubscribe=void 0);try{s.call(this)}catch(C){u=C instanceof v.UnsubscriptionError?g(C.errors):[C]}}if(p.isArray(a)){f=-1;for(var T=a.length;++f<T;){var w=a[f];if(t.isObject(w))try{w.unsubscribe()}catch(A){u=u||[],A instanceof v.UnsubscriptionError?u=u.concat(g(A.errors)):u.push(A)}}}if(u)throw new v.UnsubscriptionError(u)}},d.prototype.add=function(u){var c=u;if(!u)return d.EMPTY;switch(typeof u){case"function":c=new d(u);case"object":if(c===this||c.closed||"function"!=typeof c.unsubscribe)return c;if(this.closed)return c.unsubscribe(),c;if(!(c instanceof d)){var l=c;(c=new d)._subscriptions=[l]}break;default:throw new Error("unrecognized teardown "+u+" added to Subscription.")}var h=c._parentOrParents;if(null===h)c._parentOrParents=this;else if(h instanceof d){if(h===this)return c;c._parentOrParents=[h,this]}else{if(-1!==h.indexOf(this))return c;h.push(this)}var s=this._subscriptions;return null===s?this._subscriptions=[c]:s.push(c),c},d.prototype.remove=function(u){var c=this._subscriptions;if(c){var l=c.indexOf(u);-1!==l&&c.splice(l,1)}},d.EMPTY=((u=new d).closed=!0,u),d;var u}();function g(d){return d.reduce(function(u,c){return u.concat(c instanceof v.UnsubscriptionError?c.errors:c)},[])}i.Subscription=y},8273:(P,i)=>{Object.defineProperty(i,"__esModule",{value:!0});var o=!1;i.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(p){if(p){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else o&&console.log("RxJS: Back to a better error behavior. Thank you. <3");o=p},get useDeprecatedSynchronousErrorHandling(){return o}}},7778:(P,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0});var p=o(3576),t=o(3655),_=o(8662);i.fromArray=function(y,g){return g?_.scheduleArray(y,g):new p.Observable(t.subscribeToArray(y))}},8779:(P,i,o)=>{var t=o(130),_=o(7778),v=o(8662);i.of=function(){for(var g=[],d=0;d<arguments.length;d++)g[d]=arguments[d];var u=g[g.length-1];return t.isScheduler(u)?(g.pop(),v.scheduleArray(g,u)):_.fromArray(g)}},8662:(P,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0});var p=o(3576),t=o(3984);i.scheduleArray=function(v,y){return new p.Observable(function(g){var d=new t.Subscription,u=0;return d.add(y.schedule(function(){u!==v.length?(g.next(v[u++]),g.closed||d.add(this.schedule())):g.complete()})),d})}},6232:(P,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},1476:(P,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.rxSubscriber="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),i.$$rxSubscriber=i.rxSubscriber},8574:(P,i)=>{Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function p(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(_,v){return v+1+") "+_.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return p.prototype=Object.create(Error.prototype),p}();i.UnsubscriptionError=o},5730:(P,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0});var p=o(7241);i.canReportError=function(_){for(;_;){var g=_.destination;if(_.closed||_.isStopped)return!1;_=g&&g instanceof p.Subscriber?g:null}return!0}},2434:(P,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.hostReportError=function(p){setTimeout(function(){throw p},0)}},2516:(P,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.identity=function(p){return p}},993:(P,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.isArray=Array.isArray||function(o){return o&&"number"==typeof o.length}},7382:(P,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.isFunction=function(p){return"function"==typeof p}},4720:(P,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.isObject=function(p){return null!==p&&"object"==typeof p}},130:(P,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.isScheduler=function(p){return p&&"function"==typeof p.schedule}},3915:(P,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0});var p=o(2516);function _(v){return 0===v.length?p.identity:1===v.length?v[0]:function(g){return v.reduce(function(d,u){return u(d)},g)}}i.pipe=function(){for(var v=[],y=0;y<arguments.length;y++)v[y]=arguments[y];return _(v)},i.pipeFromArray=_},3655:(P,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.subscribeToArray=function(o){return function(p){for(var t=0,_=o.length;t<_&&!p.closed;t++)p.next(o[t]);p.complete()}}},7104:(P,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0});var p=o(7241),t=o(1476),_=o(6011);i.toSubscriber=function(y,g,d){if(y){if(y instanceof p.Subscriber)return y;if(y[t.rxSubscriber])return y[t.rxSubscriber]()}return y||g||d?new p.Subscriber(y,g,d):new p.Subscriber(_.empty)}},4963:(P,i,o)=>{o.r(i),o.d(i,{ShopModule:()=>z});var p=o(15),t=o(3018);class _{constructor(){this.brandId=0,this.typeId=0,this.sort="name",this.pageNumber=1,this.pageSize=6}}class v{constructor(){this.data=[]}}var y=o(2340),g=o(1841),d=o(8002),u=o(8779);let c=(()=>{class n{constructor(e){this.http=e,this.baseUrl=y.N.apiUrl,this.products=[],this.brands=[],this.types=[],this.pagination=new v,this.shopParams=new _,this.productCache=new Map}setShopParams(e){this.shopParams=e}getShopParams(){return this.shopParams}getProducts(e){if(!1===e&&(this.productCache=new Map),this.productCache.size>0&&!0===e&&this.productCache.has(Object.values(this.shopParams).join("-")))return this.pagination.data=this.productCache.get(Object.values(this.shopParams).join("-")),(0,u.of)(this.pagination);let r=new g.LE;return 0!==this.shopParams.brandId&&(r=r.append("brandId",this.shopParams.brandId.toString())),0!==this.shopParams.typeId&&(r=r.append("typeId",this.shopParams.typeId.toString())),this.shopParams.search&&(r=r.append("search",this.shopParams.search)),r=r.append("sort",this.shopParams.sort),r=r.append("pageIndex",this.shopParams.pageNumber.toString()),r=r.append("pageSize",this.shopParams.pageSize.toString()),this.http.get(this.baseUrl+"products",{observe:"response",params:r}).pipe((0,d.U)(S=>(this.productCache.set(Object.values(this.shopParams).join("-"),S.body.data),this.pagination=S.body,this.pagination)))}getProduct(e){let r;return this.productCache.forEach(S=>{r=S.find(Z=>Z.id===e)}),r?(0,u.of)(r):this.http.get(this.baseUrl+"products/"+e)}getBrands(){return this.brands.length>0?(0,u.of)(this.brands):this.http.get(this.baseUrl+"products/brands").pipe((0,d.U)(e=>(this.brands=e,e)))}getTypes(){return this.types.length>0?(0,u.of)(this.types):this.http.get(this.baseUrl+"products/types").pipe((0,d.U)(e=>(this.types=e,e)))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(g.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var l=o(9957),h=o(9508),s=o(8583);function a(n,m){if(1&n){const e=t.EpF();t.TgZ(0,"div",2),t.TgZ(1,"div",3),t._UZ(2,"img",4),t.qZA(),t.TgZ(3,"div",3),t.TgZ(4,"h3"),t._uU(5),t.qZA(),t.TgZ(6,"p",5),t._uU(7),t.ALo(8,"currency"),t.qZA(),t.TgZ(9,"div",6),t.TgZ(10,"i",7),t.NdJ("click",function(){return t.CHM(e),t.oxw().decrementItemQuantity()}),t.qZA(),t.TgZ(11,"span",8),t._uU(12),t.qZA(),t.TgZ(13,"i",9),t.NdJ("click",function(){return t.CHM(e),t.oxw().incrementItemQuantity()}),t.qZA(),t.TgZ(14,"button",10),t.NdJ("click",function(){return t.CHM(e),t.oxw().addItemToBasket()}),t._uU(15,"Add to Cart"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"div",11),t.TgZ(17,"div",12),t.TgZ(18,"h4"),t._uU(19,"Description"),t.qZA(),t.TgZ(20,"p"),t._uU(21),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(2),t.s9C("src",e.product.pictureUrl,t.LSH),t.s9C("alt",e.product.name),t.xp6(3),t.Oqu(e.product.name),t.xp6(2),t.Oqu(t.lcZ(8,6,e.product.price)),t.xp6(5),t.Oqu(e.quantity),t.xp6(9),t.Oqu(e.product.description)}}let f=(()=>{class n{constructor(e,r,S,Z){this.shopService=e,this.activateRoute=r,this.bcService=S,this.basketService=Z,this.quantity=1,this.bcService.set("@productDetails"," ")}ngOnInit(){this.loadProduct()}loadProduct(){this.shopService.getProduct(+this.activateRoute.snapshot.paramMap.get("id")).subscribe(e=>{this.product=e,this.bcService.set("@productDetails",e.name)},e=>{console.log(e)})}addItemToBasket(){this.basketService.addItemToBasket(this.product,this.quantity)}incrementItemQuantity(){this.quantity++}decrementItemQuantity(){this.quantity>1&&this.quantity--}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c),t.Y36(p.gz),t.Y36(l.pm),t.Y36(h.v))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-details"]],decls:2,vars:1,consts:[[1,"container","mt-5"],["class","row",4,"ngIf"],[1,"row"],[1,"col-6"],[1,"img-fluid","w-100",3,"src","alt"],[2,"font-size","2em"],[1,"d-flex","justify-content-start","align-items-center"],[1,"fa","fa-minus-circle","text-warning","mr-2",2,"cursor","pointer","font-size","2em",3,"click"],[1,"font-weight-bold",2,"font-size","1.5em"],[1,"fa","fa-plus-circle","text-warning","mx-2",2,"cursor","pointer","font-size","2em",3,"click"],[1,"btn","btn-outline-primary","btn-lg","ml-4",3,"click"],[1,"row","mt-5"],[1,"col-12","ml-3"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0),t.YNc(1,a,22,8,"div",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",r.product))},directives:[s.O5],pipes:[s.H9],styles:[""]}),n})();function b(n,m){if(1&n&&(t.TgZ(0,"span"),t._uU(1,"Showing "),t.TgZ(2,"strong"),t._uU(3),t.qZA(),t._uU(4," of "),t.TgZ(5,"strong"),t._uU(6),t.qZA(),t._uU(7," results "),t.qZA()),2&n){const e=t.oxw();t.xp6(3),t.AsE(" ",(e.pageNumber-1)*e.pageSize+1," - ",e.pageNumber*e.pageSize>e.totalCount?e.totalCount:e.pageNumber*e.pageSize," "),t.xp6(3),t.Oqu(e.totalCount)}}function T(n,m){1&n&&(t.TgZ(0,"span"),t._uU(1,"There are "),t.TgZ(2,"strong"),t._uU(3,"0"),t.qZA(),t._uU(4," results for this filter"),t.qZA())}let w=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-paging-header"]],inputs:{pageNumber:"pageNumber",pageSize:"pageSize",totalCount:"totalCount"},decls:3,vars:2,consts:[[4,"ngIf"]],template:function(e,r){1&e&&(t.TgZ(0,"header"),t.YNc(1,b,8,3,"span",0),t.YNc(2,T,5,0,"span",0),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",r.totalCount&&r.totalCount>0),t.xp6(1),t.Q6J("ngIf",0===r.totalCount))},directives:[s.O5],styles:[""]}),n})();var C=o(665);let A=(()=>{class n{constructor(e){this.basketService=e}ngOnInit(){}addItemToBasket(){this.basketService.addItemToBasket(this.product)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(h.v))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-item"]],inputs:{product:"product"},decls:14,vars:8,consts:[[1,"card","h-100","shadow-sm"],[1,"image","position-relative",2,"cursor","pointer"],[1,"img-fluid","bg-info",3,"src","alt"],[1,"d-flex","align-items-center","justify-content-center","hover-overlay"],["type","button",1,"btn","btn-primary","fa","fa-shopping-cart","mr-2",3,"click"],["type","button",1,"btn","btn-primary",3,"routerLink"],[1,"card-body","d-flex","flex-column"],[3,"routerLink"],[1,"text-uppercase"],[1,"mb-2"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t._UZ(2,"img",2),t.TgZ(3,"div",3),t.TgZ(4,"button",4),t.NdJ("click",function(){return r.addItemToBasket()}),t.qZA(),t.TgZ(5,"button",5),t._uU(6,"View"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(7,"div",6),t.TgZ(8,"a",7),t.TgZ(9,"h6",8),t._uU(10),t.qZA(),t.qZA(),t.TgZ(11,"span",9),t._uU(12),t.ALo(13,"currency"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.s9C("src",r.product.pictureUrl,t.LSH),t.s9C("alt",r.product.name),t.xp6(3),t.MGl("routerLink","/shop/",r.product.id,""),t.xp6(3),t.MGl("routerLink","/shop/",r.product.id,""),t.xp6(2),t.Oqu(r.product.name),t.xp6(2),t.Oqu(t.lcZ(13,6,r.product.price)))},directives:[p.rH,p.yS],pipes:[s.H9],styles:[".btn[_ngcontent-%COMP%]{width:30%;height:40px}.image[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{opacity:1}.image[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover   button[_ngcontent-%COMP%]{transform:none;opacity:1}.hover-overlay[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;background:rgba(255,255,255,.5);opacity:0;transition:all .5s}.hover-overlay[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{z-index:1000;transition:all .5s}.hover-overlay[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-of-type{transform:translate(-40px)}.hover-overlay[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-of-type{transform:translate(40px)}"]}),n})();var x=o(2214);let E=(()=>{class n{constructor(){this.pageChanged=new t.vpe}ngOnInit(){}onPagerChange(e){this.pageChanged.emit(e.page)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-pager"]],inputs:{totalCount:"totalCount",pageSize:"pageSize",pageNumber:"pageNumber"},outputs:{pageChanged:"pageChanged"},decls:1,vars:4,consts:[["previousText","\u2039","nextText","\u203a","firstText","\xab","lastText","\xbb",3,"boundaryLinks","totalItems","ngModel","itemsPerPage","pageChanged"]],template:function(e,r){1&e&&(t.TgZ(0,"pagination",0),t.NdJ("pageChanged",function(Z){return r.onPagerChange(Z)}),t.qZA()),2&e&&t.Q6J("boundaryLinks",!0)("totalItems",r.totalCount)("ngModel",r.pageNumber)("itemsPerPage",r.pageSize)},directives:[x.Qt,C.JJ,C.On],styles:[""]}),n})();const O=["search"];function M(n,m){if(1&n&&(t.TgZ(0,"option",17),t._uU(1),t.qZA()),2&n){const e=m.$implicit,r=t.oxw(2);t.Q6J("value",e.value)("selected",r.shopParams.sort===e.value),t.xp6(1),t.hij(" ",e.name," ")}}function U(n,m){if(1&n){const e=t.EpF();t.TgZ(0,"li",18),t.NdJ("click",function(){const Z=t.CHM(e).$implicit;return t.oxw(2).onBrandSelected(Z.id)}),t._uU(1),t.qZA()}if(2&n){const e=m.$implicit,r=t.oxw(2);t.ekj("active",e.id===r.shopParams.brandId),t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function j(n,m){if(1&n){const e=t.EpF();t.TgZ(0,"li",18),t.NdJ("click",function(){const Z=t.CHM(e).$implicit;return t.oxw(2).onTypeSelected(Z.id)}),t._uU(1),t.qZA()}if(2&n){const e=m.$implicit,r=t.oxw(2);t.ekj("active",e.id===r.shopParams.typeId),t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function k(n,m){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"h5",10),t._uU(2,"Sort"),t.qZA(),t.TgZ(3,"select",11),t.NdJ("change",function(S){return t.CHM(e),t.oxw().onSortSelected(S.target.value)}),t.YNc(4,M,2,3,"option",12),t.qZA(),t.TgZ(5,"h5",13),t._uU(6,"Brands"),t.qZA(),t.TgZ(7,"ul",14),t.YNc(8,U,2,4,"li",15),t.qZA(),t.TgZ(9,"h5",13),t._uU(10,"Types"),t.qZA(),t.TgZ(11,"ul",16),t.YNc(12,j,2,4,"li",15),t.qZA(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",e.sortOptions),t.xp6(4),t.Q6J("ngForOf",e.brands),t.xp6(4),t.Q6J("ngForOf",e.types)}}function I(n,m){if(1&n){const e=t.EpF();t.TgZ(0,"div",19),t.TgZ(1,"input",20,21),t.NdJ("keyup.enter",function(){return t.CHM(e),t.oxw().onSearch()}),t.qZA(),t.TgZ(3,"button",22),t.NdJ("click",function(){return t.CHM(e),t.oxw().onSearch()}),t._uU(4,"Search"),t.qZA(),t.TgZ(5,"button",23),t.NdJ("click",function(){return t.CHM(e),t.oxw().onReset()}),t._uU(6,"Reset"),t.qZA(),t.qZA()}}function F(n,m){if(1&n&&(t.TgZ(0,"div",24),t._UZ(1,"app-product-item",25),t.qZA()),2&n){const e=m.$implicit;t.xp6(1),t.Q6J("product",e)}}function J(n,m){if(1&n){const e=t.EpF();t.TgZ(0,"div",26),t.TgZ(1,"app-pager",27),t.NdJ("pageChanged",function(S){return t.CHM(e),t.oxw().onPageChanged(S)}),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("pageSize",e.shopParams.pageSize)("totalCount",e.totalCount)("pageNumber",e.shopParams.pageNumber)}}const H=[{path:"",component:(()=>{class n{constructor(e){this.shopService=e,this.sortOptions=[{name:"Alphabetical",value:"name"},{name:"Price: Low to High",value:"priceAsc"},{name:"Price: High to Low",value:"priceDesc"}],this.shopParams=this.shopService.getShopParams()}ngOnInit(){this.getProducts(!0),this.getBrands(),this.getTypes()}getProducts(e=!1){this.shopService.getProducts(e).subscribe(r=>{this.products=r.data,this.totalCount=r.count},r=>{console.log(r)})}getBrands(){this.shopService.getBrands().subscribe(e=>{this.brands=[{id:0,name:"All"},...e]},e=>{console.log(e)})}getTypes(){this.shopService.getTypes().subscribe(e=>{this.types=[{id:0,name:"All"},...e]},e=>{console.log(e)})}onBrandSelected(e){const r=this.shopService.getShopParams();r.brandId=e,r.pageNumber=1,this.shopService.setShopParams(r),this.getProducts()}onTypeSelected(e){const r=this.shopService.getShopParams();r.typeId=e,r.pageNumber=1,this.shopService.setShopParams(r),this.getProducts()}onSortSelected(e){const r=this.shopService.getShopParams();r.sort=e,this.shopService.setShopParams(r),this.getProducts()}onPageChanged(e){const r=this.shopService.getShopParams();r.pageNumber!==e&&(r.pageNumber=e,this.shopService.setShopParams(r),this.getProducts(!0))}onSearch(){const e=this.shopService.getShopParams();e.search=this.searchTerm.nativeElement.value,e.pageNumber=1,this.shopService.setShopParams(e),this.getProducts()}onReset(){this.searchTerm.nativeElement.value="",this.shopParams=new _,this.shopService.setShopParams(this.shopParams),this.getProducts()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-shop"]],viewQuery:function(e,r){if(1&e&&t.Gf(O,5),2&e){let S;t.iGM(S=t.CRH())&&(r.searchTerm=S.first)}},decls:11,vars:7,consts:[[1,"container","mt-3"],[1,"row"],[1,"col-3"],[4,"ngIf"],[1,"col-9"],[1,"d-flex","justify-content-between","align-items-center","pb-2"],[3,"totalCount","pageSize","pageNumber"],["class","form-inline",4,"ngIf"],["class","col-4 mb-4",4,"ngFor","ngForOf"],["class","d-flex justify-content-center",4,"ngIf"],[1,"text-warning","ml-3","mt-4","mb-3"],[1,"custom-select","mb-4",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],[1,"text-warning","ml-3"],[1,"list-group","mb-3"],["class","list-group-item",3,"active","value","click",4,"ngFor","ngForOf"],[1,"list-group","my-3"],[3,"value","selected"],[1,"list-group-item",3,"value","click"],[1,"form-inline"],["type","text","placeholder","Search",1,"form-control","mr-2",3,"keyup.enter"],["search",""],[1,"btn","btn-outline-primary","my-2",3,"click"],[1,"btn","btn-outline-success","ml-2","my-2",3,"click"],[1,"col-4","mb-4"],[3,"product"],[1,"d-flex","justify-content-center"],[3,"pageSize","totalCount","pageNumber","pageChanged"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"section",2),t.YNc(3,k,13,3,"ng-container",3),t.qZA(),t.TgZ(4,"section",4),t.TgZ(5,"div",5),t._UZ(6,"app-paging-header",6),t.YNc(7,I,7,0,"div",7),t.qZA(),t.TgZ(8,"div",1),t.YNc(9,F,2,1,"div",8),t.qZA(),t.YNc(10,J,2,3,"div",9),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(3),t.Q6J("ngIf",r.types&&r.brands),t.xp6(3),t.Q6J("totalCount",r.totalCount)("pageSize",r.shopParams.pageSize)("pageNumber",r.shopParams.pageNumber),t.xp6(1),t.Q6J("ngIf",r.products),t.xp6(2),t.Q6J("ngForOf",r.products),t.xp6(1),t.Q6J("ngIf",r.totalCount>0))},directives:[s.O5,w,s.sg,C.YN,C.Kr,A,E],styles:[".list-group-item[_ngcontent-%COMP%]{cursor:pointer;border:none;padding:10px 20px;font-size:1.1em}.list-group-item[_ngcontent-%COMP%]:focus{outline:none}.list-group-item.active[_ngcontent-%COMP%]{border-radius:10px}.list-group-item[_ngcontent-%COMP%]:not(.active):hover{color:#fff;background-color:#e95620b4;border-radius:10px}"]}),n})()},{path:":id",component:f,data:{breadcrumb:{alias:"productDetails"}}}];let q=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[p.Bz.forChild(H)],p.Bz]}),n})();var N=o(4466);let z=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[s.ez,N.m,q]]}),n})()}}]);